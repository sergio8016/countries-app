import{_ as g,c as i,e as s,j as c,k as h,l as n}from "./chunk-7W5ZSO7N.js";var b=(()=>{let t=class t{constructor(){this.httpClient=n(g),this.url="https://restcountries.com/v3.1",this.cacheStorage={byCapital:{term:"",countries:[]},byCountry:{term:"",countries:[]},byRegion:{region:"",countries:[]}},this.loadFromLocalStorage()}saveToLocalStorage(){localStorage.setItem("cacheStorage",JSON.stringify(this.cacheStorage))}loadFromLocalStorage(){localStorage.getItem("cacheStorage")&&(this.cacheStorage=JSON.parse(localStorage.getItem("cacheStorage")))}search(e, a){return this.httpClient.get(`${this.url}/${a}/${e}`).pipe(c(r=>{switch(a){case"capital":this.cacheStorage.byCapital={term:e,countries:r};break;case"name":this.cacheStorage.byCountry={term:e,countries:r};break;case"region":this.cacheStorage.byRegion={region:e,countries:r};break}}),c(()=>this.saveToLocalStorage()),s(()=>i([])))}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();export{b as a};
